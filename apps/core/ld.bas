BYTE A = 128
BYTE B = 0
BYTE C = 0
BYTE E = 0
@START
	LET #COM[0] = 32
WAIT:
	FORFIT
	IF #COM[0] > 0 GOTO WAIT
PLOOP:
	IF #COM[A] = 63 GOTO NOFI
	GOSUB PCOM
	INC A
	GOSUB PCOM
	GOSUB NEWLINE
CHKEND:
	INC B
	INC A
	IF B < #COM[1] GOTO PLOOP
	GETPID A
	LET #COM[1] = A
	LET #COM[0] = 255
HALT:
	FORFIT
	GOTO HALT
PUTC:
	WRITE #SIO,C,E
	IF E > 0 GOTO PERR
	RETURN
PERR:
	FORFIT
	GOTO PUTC
NEWLINE:
	LET C = 10
	GOTO PUTC
NOFI:
	INC A
	GOTO CHKEND
PCOM:
	LET C = #COM[A]
	GOTO PUTC